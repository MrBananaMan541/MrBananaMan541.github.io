(()=>{"use strict";var e,n=function(e){var n,t,o=localStorage.getItem(e);try{if(!(n=JSON.parse(o)))throw new Error("json is null!");if("object"!=typeof(t=n)||null===t||Array.isArray(t))throw new Error("json is not an object!")}catch(e){console.log("ERROR: ".concat(e," with string: ").concat(o)),n={}}return n},t=function(e,t,o){console.log("Calling writeToLocalStorage(".concat(t,",").concat(o,")"));var r=n(e);r[t]=o,localStorage.setItem(e,JSON.stringify(r))},o=function(e,t){var o=n(e);return console.log("Calling readFromLocalStorage(".concat(t,") with value=").concat(o[t])),o[t]},r=function(e){return console.log(localStorage.getItem(e)),!!localStorage.getItem(e)};!function(e){e.todo="Have not started yet",e.todoTitle="todo",e.inProgress="In Progress",e.inProgressTitle="inProgress",e.done="Done",e.doneTitle="done"}(e||(e={}));var c=document.querySelector("#username"),i=document.querySelector("#password"),d=document.querySelector("#signInStatus"),a="",u=document.querySelector("#classGroupName"),l=document.querySelector("#workItemName"),s=document.querySelector("#dueDate"),m=document.querySelector("#workTime"),h=document.querySelector("#timeOfDay"),g=document.querySelector("#status"),v=[],p=[],y=[];function f(n,o,r,c,i){var d,u,l,s,m,h,f=function(e,n,o,r,c){var i={id:v.reduce(function(e,n){return n.id>e?n.id:e},0)+1,classGroupName:e,title:n,status:o,dueDate:r,dueByTime:c};return v.push(i),t(a,"workItems",v),console.log(v),1==v.length?g.innerHTML=" There is ".concat(v.length," item left to work on"):g.innerHTML=" There are ".concat(v.length," items left to work on"),i}(n,o,r,c,i),w=function(e,n){for(var t="",o=e.split(" "),r=0;r<o.length;r++)t+=0==r?o[r].toLowerCase():o[r];var c="",i=n.split(" ");for(r=0;r<i.length;r++)c+=0==r?i[r].toLowerCase():i[r];return[t,c]}(n,o),T=document.createElement("select");T.className=T.name="todoStatus",T.innerHTML='<option class="'.concat(e.todoTitle,'" value="todo">').concat(e.todo,"</option>")+'<option class="'.concat(e.inProgressTitle,'" value="inProgress">').concat(e.inProgress,"</option>")+'<option class="'.concat(e.doneTitle,'" value="done">').concat(e.done,"</option>"),T.value=r;var q=document.createElement("button");q.className="removeItem",q.name=w[1],q.innerHTML="Remove Item","done"==T.value?q.hidden=!1:q.hidden=!0,document.querySelector("#".concat(w[0],"List"))?((h=document.createElement("li")).id="".concat(w[1]),h.innerHTML="<h3>"+"<p>".concat(o,"</p>")+"<p> Due By: ".concat(c,", ").concat(i," </p>")+"<p>Progress: </p></h3>",null===(d=document.querySelector("#".concat(w[0],"List")))||void 0===d||d.appendChild(h)):((h=document.createElement("div")).id=w[0],h.innerHTML="<h2>".concat(n,"</h2>")+"<ul id=".concat(w[0],"List>")+"<li id=".concat(w[1],">")+"<h3>"+"<p>".concat(o,"</p>")+"<p> Due By: ".concat(c,", ").concat(i," </p>")+"<p>Progress: </p></h3>",null===(u=document.querySelector("#workItems"))||void 0===u||u.appendChild(h)),q.addEventListener("click",function(e){return function(e,n){v.splice(v.indexOf(e),1),p[p.indexOf(n.querySelector("select"))].removeEventListener("change",function(e){return S}),p.splice(p.indexOf(n.querySelector("select")),1),t(a,"workItems",v),1==n.parentElement.childElementCount?n.parentElement.parentElement.remove():n.remove(),console.log(v),0==v.length?g.innerHTML="There are no more things left to work on. Hell yeah!":g.innerHTML=" There are ".concat(v.length," items left to work on"),y.splice(y.indexOf(this),1)}(f,h.querySelector("h3").parentElement)}),T.addEventListener("change",function(e){return S(f,e.target,q)}),null===(s=null===(l=h.querySelector("h3"))||void 0===l?void 0:l.lastChild)||void 0===s||s.appendChild(T),p.push(T),null===(m=h.querySelector("h3"))||void 0===m||m.appendChild(q),y.push(q)}function S(e,n,o){"done"==n.value?o.hidden=!1:o.hidden=!0,e.status=n.value,v[v.indexOf(e)]=e,t(a,"workItems",v)}function w(e){c.hidden=!0,i.hidden=!0,document.querySelector("#signInButton").hidden=!0,document.querySelector("#createAccountButton").hidden=!0,d.hidden=!0,u.hidden=!1,l.hidden=!1,s.hidden=!1,m.hidden=!1,h.hidden=!1,g.hidden=!1,document.querySelector("#addItem").hidden=!1,document.querySelector("#deleteUserButton").hidden=!1,function(e){for(var n=o(e,"workItems"),t=0;t<n.length;t++)f(n[t].classGroupName,n[t].title,n[t].status,n[t].dueDate,n[t].dueByTime)}(e)}function T(){a="";var n=document.querySelector("#addItem");n.addEventListener("click",function(n){return f(u.value,l.value,e.todoTitle,s.value,"".concat(m.value).concat(h.value))}),document.querySelector("#signInButton").addEventListener("click",function(e){return function(e,n){r(e)?o(e,"password")!=n?d.innerText="ERROR:\nIncorrect password; Please input correct password to continue":(d.innerText="Successfully signed in!",a=e,w(e)):d.innerText="ERROR:\nUser does not exist; Create an account before continuing"}(c.value,i.value)}),document.querySelector("#createAccountButton").addEventListener("click",function(e){return function(e,n){""==e?d.innerText="ERROR:\nEnter a username before trying to create an account":""==n?d.innerText="ERROR:\nEnter a password before trying to create an account":r(e)?d.innerText="ERROR:\nUsername already exists, enter a new username or sign into the already existing account":(d.innerText="Creating account, please wait...",t(e,"password",n),a=e,w(e))}(c.value,i.value)});var v=document.querySelector("#deleteUserButton");v.addEventListener("click",function(e){return function(e){console.log("Deleting user: ".concat(e)),localStorage.removeItem(e)}(a),a="",u.hidden=!0,l.hidden=!0,s.hidden=!0,m.hidden=!0,h.hidden=!0,g.hidden=!0,document.querySelector("#addItem").hidden=!0,document.querySelector("#deleteUserButton").hidden=!0,c.hidden=!1,c.value="",i.hidden=!1,i.value="",document.querySelector("#signInButton").hidden=!1,document.querySelector("#createAccountButton").hidden=!1,d.hidden=!1,void(d.innerHTML="Sign in or create a new user sign in to access your saved work/homework")}),u.hidden=!0,l.hidden=!0,s.hidden=!0,m.hidden=!0,h.hidden=!0,g.hidden=!0,n.hidden=!0,v.hidden=!0}window.onload=function(){T()}})();
//# sourceMappingURL=bundle.js.map