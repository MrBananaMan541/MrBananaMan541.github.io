(()=>{"use strict";var e,n=function(e){var n,t,o=localStorage.getItem(e);try{if(!(n=JSON.parse(o)))throw new Error("json is null!");if("object"!=typeof(t=n)||null===t||Array.isArray(t))throw new Error("json is not an object!")}catch(e){console.log("ERROR: ".concat(e," with string: ").concat(o)),n={}}return n},t=function(e,t,o){console.log("Calling writeToLocalStorage(".concat(t,",").concat(o,")"));var r=n(e);r[t]=o,localStorage.setItem(e,JSON.stringify(r))},o=function(e,t){var o=n(e);return console.log("Calling readFromLocalStorage(".concat(t,") with value=").concat(o[t])),o[t]},r=function(e){return console.log(localStorage.getItem(e)),!!localStorage.getItem(e)};!function(e){e.todo="Have not started yet",e.todoTitle="todo",e.inProgress="In Progress",e.inProgressTitle="inProgress",e.done="Done",e.doneTitle="done"}(e||(e={}));var c=document.querySelector("#username"),i=document.querySelector("#password"),a=document.querySelector("#signInStatus"),d="",u=document.querySelector("#classGroupName"),l=document.querySelector("#workItemName"),s=document.querySelector("#dueDate"),h=document.querySelector("#workTime"),m=document.querySelector("#timeOfDay"),v=document.querySelector("#status"),g=[],f=[],p=[];function y(n,o,r,c,i){var a,u,l,s,h,m,y=function(e,n,o,r,c){var i={id:g.reduce(function(e,n){return n.id>e?n.id:e},0)+1,classGroupName:e,title:n,status:o,dueDate:r,dueByTime:c};return g.push(i),t(d,"workItems",g),console.log(g),1==g.length?v.innerHTML="There is ".concat(g.length," item left to work on"):v.innerHTML="There are ".concat(g.length," items left to work on"),i}(n,o,r,c,i),T=function(e,n){for(var t="",o=e.split(" "),r=0;r<o.length;r++)t+=0==r?o[r].toLowerCase():o[r];var c="",i=n.split(" ");for(r=0;r<i.length;r++)c+=0==r?i[r].toLowerCase():i[r];return[t,c]}(n,o),w=document.createElement("select");w.className=w.name="todoStatus",w.innerHTML='<option class="'.concat(e.todoTitle,'" value="todo">').concat(e.todo,"</option>")+'<option class="'.concat(e.inProgressTitle,'" value="inProgress">').concat(e.inProgress,"</option>")+'<option class="'.concat(e.doneTitle,'" value="done">').concat(e.done,"</option>"),w.value=r;var q=document.createElement("button");q.className="removeItem",q.name=T[1],q.innerHTML="Remove Item","done"==w.value?q.hidden=!1:q.hidden=!0,document.querySelector("#".concat(T[0],"List"))?((m=document.createElement("li")).id="".concat(T[1]),m.innerHTML="<h3>"+"<p>".concat(o,"</p>")+"<p> Due By: ".concat(c,", ").concat(i," </p>")+"<p>Progress: </p></h3>",null===(a=document.querySelector("#".concat(T[0],"List")))||void 0===a||a.appendChild(m)):((m=document.createElement("div")).id=T[0],m.innerHTML="<h2>".concat(n,"</h2>")+"<ul id=".concat(T[0],"List>")+"<li id=".concat(T[1],">")+"<h3>"+"<p>".concat(o,"</p>")+"<p> Due By: ".concat(c,", ").concat(i," </p>")+"<p>Progress: </p></h3>",null===(u=document.querySelector("#workItems"))||void 0===u||u.appendChild(m)),q.addEventListener("click",function(e){return function(e,n){g.splice(g.indexOf(e),1),f[f.indexOf(n.querySelector("select"))].removeEventListener("change",function(e){return S}),f.splice(f.indexOf(n.querySelector("select")),1),t(d,"workItems",g),1==n.parentElement.childElementCount?n.parentElement.parentElement.remove():n.remove(),console.log(g),0==g.length?v.innerHTML="There are no more things left to work on. Hell yeah!":v.innerHTML=" There are ".concat(g.length," items left to work on"),p.splice(p.indexOf(this),1)}(y,m.querySelector("h3").parentElement)}),w.addEventListener("change",function(e){return S(y,e.target,q)}),null===(s=null===(l=m.querySelector("h3"))||void 0===l?void 0:l.lastChild)||void 0===s||s.appendChild(w),f.push(w),null===(h=m.querySelector("h3"))||void 0===h||h.appendChild(q),p.push(q)}function S(e,n,o){"done"==n.value?o.hidden=!1:o.hidden=!0,e.status=n.value,g[g.indexOf(e)]=e,t(d,"workItems",g)}function T(e){c.hidden=!0,i.hidden=!0,document.querySelector("#signInButton").hidden=!0,document.querySelector("#createAccountButton").hidden=!0,a.hidden=!0,u.hidden=!1,l.hidden=!1,s.hidden=!1,h.hidden=!1,m.hidden=!1,v.hidden=!1,document.querySelector("#addItem").hidden=!1,document.querySelector("#deleteUserButton").hidden=!1,function(e){var n=o(e,"workItems");if(n)for(var t=0;t<n.length;t++)y(n[t].classGroupName,n[t].title,n[t].status,n[t].dueDate,n[t].dueByTime)}(e)}function w(){d="";var n=document.querySelector("#addItem");n.addEventListener("click",function(n){return function(e,n,t,o,r){""==e||""==n||""==o?(v.innerText="ERROR: You have forgotten to add:",""==e&&(v.innerText+="\nA title for the class/group"),""==n&&(v.innerText+="\nA title for the work item"),""==o&&(v.innerText+="\nA due date for the work item"),v.innerText+="\n\nPlease enter the above information before creating a new item"):y(e,n,t,o,r)}(u.value,l.value,e.todoTitle,s.value,"".concat(h.value).concat(m.value))}),document.querySelector("#signInButton").addEventListener("click",function(e){return function(e,n){r(e)?o(e,"password")!=n?a.innerText="ERROR:\nIncorrect password; Please input correct password to continue":(a.innerText="Successfully signed in!",d=e,T(e)):a.innerText="ERROR:\nUser does not exist; Create an account before continuing"}(c.value,i.value)}),document.querySelector("#createAccountButton").addEventListener("click",function(e){return function(e,n){""==e?a.innerText="ERROR:\nEnter a username before trying to create an account":""==n?a.innerText="ERROR:\nEnter a password before trying to create an account":r(e)?a.innerText="ERROR:\nUsername already exists, enter a new username or sign into the already existing account":(a.innerText="Creating account, please wait...",t(e,"password",n),d=e,T(e))}(c.value,i.value)});var g=document.querySelector("#deleteUserButton");g.addEventListener("click",function(e){return function(e){console.log("Deleting user: ".concat(e)),localStorage.removeItem(e)}(d),d="",document.querySelector("#workItems").innerHTML="",u.hidden=!0,u.value="",l.hidden=!0,l.value="",s.hidden=!0,s.value="",h.hidden=!0,h.value="1",m.hidden=!0,m.value="AM",v.hidden=!0,v.innerHTML="There are no more things left to work on. Hell yeah!",document.querySelector("#addItem").hidden=!0,document.querySelector("#deleteUserButton").hidden=!0,c.hidden=!1,c.value="",d="",i.hidden=!1,i.value="",document.querySelector("#signInButton").hidden=!1,document.querySelector("#createAccountButton").hidden=!1,a.hidden=!1,void(a.innerHTML="Sign in or create a new user sign in to access your saved work")}),u.hidden=!0,l.hidden=!0,s.hidden=!0,h.hidden=!0,m.hidden=!0,v.hidden=!0,n.hidden=!0,g.hidden=!0}window.onload=function(){w()}})();
//# sourceMappingURL=bundle.js.map