{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://work-tracker/./src/dataReader.js","webpack://work-tracker/./src/main.ts"],"sourcesContent":["// https://attacomsian.com/blog/javascript-check-variable-is-object\r\nconst isObject = obj => {\r\n  return typeof obj === 'object' && obj !== null && !Array.isArray(obj)\r\n}\r\n\r\n// a private (to this module) helper function\r\n// it will load in a string from localStorage and convert it to a JSON object\r\n// if the string is empty or otherwise not \"parseable\" an\r\n// empty object - {} - will be returned\r\nconst loadJSONFromLocalStorage = (username) => {\r\n  const string = localStorage.getItem(username);\r\n  let json;\r\n  try{\r\n    json = JSON.parse(string);\r\n    if(!json) throw new Error(\"json is null!\");\r\n    if(!isObject(json)) throw new Error(\"json is not an object!\");\r\n  }catch(error){\r\n    console.log(`ERROR: ${error} with string: ${string}`);\r\n    json = {};\r\n  }\r\n  return json;\r\n};\r\n\r\n//Add value var as the value of the key var in a temp json object, and then save it to localstorage\r\n//under the given username\r\nexport const writeToLocalStorage = (username, key, value) => {\r\n  console.log(`Calling writeToLocalStorage(${key},${value})`);\r\n  const json = loadJSONFromLocalStorage(username);\r\n  json[key] = value;\r\n  localStorage.setItem(username, JSON.stringify(json));\r\n};\r\n\r\n// the value of `key` will be returned from localStorage\r\nexport const readFromLocalStorage = (username, key) => {\r\n  const json = loadJSONFromLocalStorage(username);\r\n  console.log(`Calling readFromLocalStorage(${key}) with value=${json[key]}`);\r\n  return json[key];\r\n}\r\n\r\n//Simple check to see if the user exists or not\r\nexport const doesUserExist = (username) => {\r\n  console.log(localStorage.getItem(username));\r\n  if (localStorage.getItem(username)) {\r\n    return true;\r\n  }\r\n  else {\r\n    return false;\r\n  }\r\n}\r\n\r\n//Delete the given user from local storage\r\nexport const deleteUser = (username) => {\r\n  console.log(`Deleting user: ${username}`);\r\n  localStorage.removeItem(username);\r\n}","//To update the source code and then bundle and transiple it so it can be used,\r\n//enter the three commands below, in the following order:\r\n//#1 - cd work-tracker (to make sure the node package manager sets up all the files in the correct folder)\r\n//#2 - npm i -D typescript\r\n//#3 - npm i -D webpack webpack-cli ts-loader\r\n//#4 - npm i -D webpack-dev-server\r\n//Then type - npm run build - to actually run the build and live update the code\r\n//To stop running the build and quit it, click in the terminal and Press CTRL and C\r\n//The webpack files can then be deleted to lower the file size of this project\r\n\r\nimport { readFromLocalStorage, writeToLocalStorage, doesUserExist, deleteUser } from './dataReader.js';\r\n\r\n//An interface that holds the structure of work items to be properly filled out and displayed\r\ntype WorkItem = {\r\n  id: number,\r\n  classGroupName: string,\r\n  title: string,\r\n  status: string,\r\n  dueDate: string,\r\n  dueByTime: string,\r\n}\r\n\r\n//An enum with strongly typed properties to describe the progress of the work items\r\nenum TodoStatus {\r\n  todo = \"Have not started yet\",\r\n  todoTitle = \"todo\",\r\n  inProgress = \"In Progress\",\r\n  inProgressTitle = \"inProgress\",\r\n  done = \"Done\",\r\n  doneTitle = \"done\"\r\n}\r\n\r\n//References to input fields and status bar for signing into a users \"account\"\r\nlet username = document.querySelector(\"#username\") as HTMLInputElement;\r\nlet password = document.querySelector(\"#password\") as HTMLInputElement;\r\nlet signInStatus = document.querySelector(\"#signInStatus\") as HTMLDivElement;\r\n\r\n//Current username and password that are saved while the user is using this page\r\nlet currentUsername = \"\";\r\nlet currentPassword = \"\";\r\n\r\n//References to the input fields and button to add a new assignment\r\nlet classGroupName = document.querySelector(\"#classGroupName\") as HTMLInputElement;\r\nlet title = document.querySelector(\"#workItemName\") as HTMLInputElement;\r\nlet dueDate = document.querySelector(\"#dueDate\") as HTMLInputElement;\r\nlet time = document.querySelector(\"#workTime\") as HTMLSelectElement;\r\nlet timeOfDay = document.querySelector(\"#timeOfDay\") as HTMLSelectElement;\r\nlet status = document.querySelector(\"#status\") as HTMLDivElement;\r\n\r\n//List of all todoItems to keep track of what is left, and then save to local storage\r\nlet todoItems = [];\r\n\r\n//List of options from each select element from each work item\r\nlet workItemsSelects = [];\r\n//List of buttons in each work item that will appear when the work item is considered 'Done'\r\nlet removeItemButtons = [];\r\n\r\n//Add the new work item to a list to save in a separate file\r\nfunction addTodoItem(classGroupName: string, title: string, itemStatus: string, dueDate: string, timeDueBy: string): WorkItem {\r\n  const id = getNextId(todoItems);\r\n\r\n  //Create temp object to then add to the todoItems list\r\n  const newTodo = {\r\n    id,\r\n    classGroupName: classGroupName,\r\n    title: title,\r\n    status: itemStatus,\r\n    dueDate: dueDate,\r\n    dueByTime: timeDueBy\r\n  };\r\n\r\n  todoItems.push(newTodo);\r\n  writeToLocalStorage(currentUsername, \"workItems\", todoItems);\r\n  console.log(todoItems);\r\n\r\n  //Display the number of items left to work on in the status bar\r\n  if (todoItems.length == 1) {\r\n    status.innerHTML = `There is ${todoItems.length} item left to work on`;\r\n  }\r\n  else {\r\n    status.innerHTML = `There are ${todoItems.length} items left to work on`;\r\n  }\r\n\r\n  return newTodo;\r\n}\r\n\r\n//Gets the next id in the array for the item that's being added\r\nfunction getNextId(items: WorkItem[]): number {\r\n  return items.reduce((max, x) => x.id > max ? x.id : max, 0) + 1;\r\n}\r\n\r\n//Formats both class/group names and title names and returns them in an array\r\nfunction formatClassGroupTitles(classGroupName: string, title: string): string[] {\r\n  let newClassGroupName = \"\";\r\n    \r\n  //Split the class/group name into an array to easily cut out any spaces and format the first word in the array\r\n  let classGroupNameSeparated: string[] = classGroupName.split(\" \");\r\n\r\n  //Format the class group name to use for the class list id\r\n  for (let i = 0; i < classGroupNameSeparated.length; i++) {\r\n    if (i == 0) {\r\n      newClassGroupName += classGroupNameSeparated[i].toLowerCase();\r\n    }\r\n    else {\r\n      newClassGroupName += classGroupNameSeparated[i];\r\n    }\r\n  }\r\n\r\n  //Also format the title of the assignment, if that is too long\r\n  let titleListId = \"\";\r\n  let titleSeparated = title.split(\" \");\r\n  for (let i = 0; i < titleSeparated.length; i++) {\r\n    if (i == 0) {\r\n      titleListId += titleSeparated[i].toLowerCase();\r\n    }\r\n    else {\r\n      titleListId += titleSeparated[i];\r\n    }\r\n  }\r\n\r\n  let formattedStrings: string[] = [newClassGroupName, titleListId];\r\n  return formattedStrings;\r\n}\r\n\r\n//Adds a new work item to the page\r\nfunction addNewItem(classGroupName: string, title: string, itemStatus: string, dueDate: string, timeDueBy: string) {\r\n  //Add the new item to the todoItems array and save it in a local variable\r\n  let tempToDoItem = addTodoItem(classGroupName, title, itemStatus, dueDate, timeDueBy);\r\n\r\n  //Format the names and save them to a temp array\r\n  let formattedTitles: string[] = formatClassGroupTitles(classGroupName, title);\r\n  \r\n  let newListItem;\r\n\r\n  //Create the select element to help detect when the user selects that the work item is completed,\r\n  //and then reveal the remove button\r\n  let select = document.createElement('select');\r\n  select.className = select.name = \"todoStatus\";\r\n  select.innerHTML = \r\n    `<option class=\"${TodoStatus.todoTitle}\" value=\"todo\">${TodoStatus.todo}</option>` +\r\n    `<option class=\"${TodoStatus.inProgressTitle}\" value=\"inProgress\">${TodoStatus.inProgress}</option>` +\r\n    `<option class=\"${TodoStatus.doneTitle}\" value=\"done\">${TodoStatus.done}</option>`;\r\n\r\n  //Set the select to the given itemStatus string, and if it's marked done, then reveal the remove button for this work item\r\n  select.value = itemStatus;\r\n\r\n  //Create a remove button to help with keeping track of which work item this button will delete\r\n  let removeButton = document.createElement('button');\r\n  removeButton.className = \"removeItem\";\r\n  removeButton.name = formattedTitles[1];\r\n  removeButton.innerHTML = \"Remove Item\";\r\n  //If the work item was saved as being done, then immediately reveal the remove button\r\n  if (select.value == \"done\") {\r\n    removeButton.hidden = false;\r\n  }\r\n  //Otherwise, then hide the remove button\r\n  else {\r\n    removeButton.hidden = true;\r\n  }\r\n\r\n  //If there is already another assignment for the same class/group as the new one, add this assignment into the class list\r\n  if (document.querySelector(`#${formattedTitles[0]}List`)) {\r\n    //Create the new assignment and pass in the requried data\r\n    newListItem = document.createElement(\"li\");\r\n    newListItem.id = `${formattedTitles[1]}`;\r\n    newListItem.innerHTML = \r\n    '<h3>' + \r\n      `<p>${title}</p>` +\r\n      `<p> Due By: ${dueDate}, ${timeDueBy} </p>` +\r\n      '<p>' + \r\n        'Progress: ' +\r\n      '</p>' +\r\n    '</h3>';\r\n    \r\n    //Add the new item to the same class/group list\r\n    document.querySelector(`#${formattedTitles[0]}List`)?.appendChild(newListItem);\r\n  }\r\n  //Otherwise, create a new class/group list to hold this new assignment \r\n  else {\r\n    //Create the div element\r\n    newListItem = document.createElement(\"div\");\r\n    newListItem.id = formattedTitles[0];\r\n\r\n    //Create the work item to display to the screen\r\n    newListItem.innerHTML = \r\n      `<h2>${classGroupName}</h2>` +\r\n      `<ul id=${formattedTitles[0]}List>` +\r\n        `<li id=${formattedTitles[1]}>` +\r\n          '<h3>' + \r\n            `<p>${title}</p>` +\r\n            `<p> Due By: ${dueDate}, ${timeDueBy} </p>` +\r\n            '<p>' + \r\n              'Progress: ' +\r\n            '</p>' +\r\n          '</h3>'\r\n        '</li>'\r\n      '</ul';\r\n    \r\n    //Append the new work item to the screen\r\n    document.querySelector(\"#workItems\")?.appendChild(newListItem);\r\n  }\r\n\r\n  //Add the removeTodoItemItem function to the removeButton\r\n  removeButton.addEventListener('click', (e: Event) => removeTodoItem(\r\n    tempToDoItem,\r\n    newListItem.querySelector(\"h3\").parentElement\r\n  ));\r\n\r\n  //Add the hideAndRevealRemoveButton function to the select list\r\n  select.addEventListener('change', (e: Event) => hideAndRevealRemoveButton(\r\n    tempToDoItem,\r\n    e.target,\r\n    removeButton\r\n  ));\r\n\r\n  //Add the select to the work item and push it to the workItemsSelects array\r\n  newListItem.querySelector('h3')?.lastChild?.appendChild(select);\r\n  workItemsSelects.push(select);\r\n\r\n  //Add the remove button to the work item and push it to the removeItemButtons Array\r\n  newListItem.querySelector(\"h3\")?.appendChild(removeButton);\r\n  removeItemButtons.push(removeButton);\r\n}\r\n\r\n//Either hides or reveals the remove button on each work item, button on what option is chosen\r\nfunction hideAndRevealRemoveButton(toDoItem: {}, option, removeButton: HTMLButtonElement) {\r\n  //If the user selects done, then reveal the remove button for this work item\r\n  if (option.value == \"done\") {\r\n    removeButton.hidden = false;\r\n  }\r\n  //Otherwise, ensure the remove button is hidden\r\n  else {\r\n    removeButton.hidden = true;\r\n  }\r\n\r\n  toDoItem[\"status\"] = option.value;\r\n  todoItems[todoItems.indexOf(toDoItem)] = toDoItem;\r\n\r\n  //Save the status of the work item to local storage\r\n  writeToLocalStorage(currentUsername, \"workItems\", todoItems);\r\n}\r\n\r\n//Removes the given work item from the screen, the todoItems array, and external storage\r\nfunction removeTodoItem(toDoItem: {}, htmlToDoItem: HTMLElement) {\r\n  //Remove the toDoItem from the array\r\n  todoItems.splice(todoItems.indexOf(toDoItem), 1);\r\n\r\n  //Remove the event listener for the select, and then remove it from the workItemsSelect array\r\n  workItemsSelects[workItemsSelects.indexOf(htmlToDoItem.querySelector('select'))].removeEventListener(\r\n    'change', \r\n    (e: Event) => hideAndRevealRemoveButton\r\n  );\r\n  workItemsSelects.splice(workItemsSelects.indexOf(htmlToDoItem.querySelector('select')), 1);\r\n\r\n  //Remove the toDoItem from localStorage be overriding the previous workItems\r\n  writeToLocalStorage(currentUsername, \"workItems\", todoItems);\r\n\r\n  //If this is the last todo item for this class/group, remove the class/group entirely\r\n  if (htmlToDoItem.parentElement.childElementCount == 1) {\r\n    htmlToDoItem.parentElement.parentElement.remove();\r\n  }\r\n  //Otherwise, remove the item from the page\r\n  else {\r\n    htmlToDoItem.remove();\r\n  }\r\n\r\n  console.log(todoItems);\r\n\r\n  //Update the new number of items left to work on, or if there are none at all\r\n  if (todoItems.length == 0) {\r\n    status.innerHTML = \"There are no more things left to work on. Hell yeah!\";\r\n  }\r\n  else {\r\n    status.innerHTML = ` There are ${todoItems.length} items left to work on`;\r\n  }\r\n\r\n  //Finally remove the removeButton from the button array\r\n  removeItemButtons.splice(removeItemButtons.indexOf(this), 1);\r\n}\r\n\r\n//Load in any previous items that still need to be worked on\r\nfunction loadSavedWorkItems(username: string) {\r\n  const json = readFromLocalStorage(username, \"workItems\");\r\n  //Quick check to make sure that there are items in the users workItems that can be displayed\r\n  if (json) {\r\n    for (let i = 0; i < json.length; i++) {\r\n      //Loop through each work item and add it to the screen and the appropriate arrays\r\n      addNewItem(\r\n        json[i].classGroupName,\r\n        json[i].title,\r\n        json[i].status,\r\n        json[i].dueDate,\r\n        json[i].dueByTime\r\n      );\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n//Hide the sign in screen and load the main app\r\nfunction loadWorkTracker(currentUsername: string) {\r\n  //Hide the sign in screen\r\n  username.hidden = true;\r\n  password.hidden = true;\r\n  const signInButton = document.querySelector(\"#signInButton\") as HTMLInputElement;\r\n  signInButton.hidden = true;\r\n  const createAccountButton = document.querySelector(\"#createAccountButton\") as HTMLInputElement;\r\n  createAccountButton.hidden = true;\r\n  signInStatus.hidden = true;\r\n\r\n  //Load in the main work tracker app\r\n  classGroupName.hidden = false;\r\n  title.hidden = false;\r\n  dueDate.hidden = false;\r\n  time.hidden = false;\r\n  timeOfDay.hidden = false;\r\n  status.hidden = false;\r\n  const addItem = document.querySelector(\"#addItem\") as HTMLInputElement;\r\n  addItem.hidden = false;\r\n  const deleteAccountButton = document.querySelector(\"#deleteUserButton\") as HTMLInputElement;\r\n  deleteAccountButton.hidden = false;\r\n\r\n  //Then load in any saved work items the user may have\r\n  loadSavedWorkItems(currentUsername);\r\n}\r\n\r\n//This function handles the user signing in with an existing account, and will any missing or inaccurate data in the process\r\nfunction signIn(username: string, password: string, signInButton: HTMLInputElement) {\r\n  //If the user has no account, then return an error status message and do nothing else\r\n  if (!doesUserExist(username)) {\r\n    signInStatus.innerText = \"ERROR:\\nUser does not exist; Create an account before continuing\";\r\n  }\r\n  //Otherwise, continue below\r\n  else {\r\n    //Otherwise, if the users password is incorrect, inform them and do nothing else\r\n    if (readFromLocalStorage(username, \"password\") != password) {\r\n      signInStatus.innerText = \"ERROR:\\nIncorrect password; Please input correct password to continue\";\r\n    }\r\n    //Then if they put in the correct password, continue below and load the actual page\r\n    else {\r\n      signInStatus.innerText = \"Successfully signed in!\";\r\n      \r\n      //Save the users username and password to help with saving and removing work items\r\n      currentUsername = username;\r\n      currentPassword = password;\r\n\r\n      //Load in the work tracker (and any previous work items they may have)\r\n      loadWorkTracker(username);\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n//Handles creating an account for the first time, and then calls signIn() to then enter the page\r\nfunction createAccount(username: string, password: string, signInButton: HTMLInputElement) {\r\n  //If the user hasn't entered a username, update the sign in status and stop here\r\n  if (username == \"\") {\r\n    signInStatus.innerText = \"ERROR:\\nEnter a username before trying to create an account\";\r\n  }\r\n  //Otherwise, if the user hasn't entered a password, update the sign in status and stop here\r\n  else if (password == \"\") {\r\n    signInStatus.innerText = \"ERROR:\\nEnter a password before trying to create an account\";\r\n  }\r\n  //Otherwise, if the user has entered a username that already exists, update the sign in status and stop here\r\n  else if (doesUserExist(username)) {\r\n    signInStatus.innerText = \"ERROR:\\nUsername already exists, enter a new username or sign into the already existing account\";\r\n  }\r\n  //If the user has entered a valid name and password that they haven't already used, then create the account\r\n  else {\r\n    signInStatus.innerText = \"Creating account, please wait...\";\r\n    writeToLocalStorage(username, \"password\", password);\r\n    \r\n    //Save the users new username and password to help with saving and removing work items\r\n    currentUsername = username;\r\n    currentPassword = password;\r\n    \r\n    //Load in the work tracker\r\n    loadWorkTracker(username);\r\n  }\r\n}\r\n\r\n//Simple function that deletes the users account, hides the main app screen, and reveals the user sign in screen again\r\nfunction deleteAccount() {\r\n  //Delete the users information in local storage, and empty the currentUsername and currentPassword\r\n  deleteUser(currentUsername);\r\n  currentUsername = \"\";\r\n  currentPassword = \"\";\r\n\r\n  //Empty the arrays with the toDo items, the workItems selects, and the removeItem buttons\r\n  todoItems = [];\r\n  workItemsSelects = [];\r\n  removeItemButtons = [];\r\n\r\n  //Clear any and all info that may still be left in the main page\r\n  const workItemsList = document.querySelector(\"#workItems\") as HTMLDivElement;\r\n  workItemsList.innerHTML = \"\";\r\n\r\n  //Hide the main work tracker app\r\n  classGroupName.hidden = true;\r\n  classGroupName.value = \"\";\r\n  title.hidden = true;\r\n  title.value = \"\";\r\n  dueDate.hidden = true;\r\n  dueDate.value = \"\";\r\n  time.hidden = true;\r\n  time.value = \"1\";\r\n  timeOfDay.hidden = true;\r\n  timeOfDay.value = \"AM\";\r\n  status.hidden = true;\r\n  status.innerHTML = \"There are no more things left to work on. Hell yeah!\";\r\n  const addItem = document.querySelector(\"#addItem\") as HTMLInputElement;\r\n  addItem.hidden = true;\r\n  const deleteAccountButton = document.querySelector(\"#deleteUserButton\") as HTMLInputElement;\r\n  deleteAccountButton.hidden = true;\r\n\r\n  //Load in the sign in screen\r\n  username.hidden = false;\r\n  username.value = \"\";\r\n  currentUsername = \"\";\r\n  password.hidden = false;\r\n  password.value = \"\";\r\n  currentPassword = \"\";\r\n  const signInButton = document.querySelector(\"#signInButton\") as HTMLInputElement;\r\n  signInButton.hidden = false;\r\n  const createAccountButton = document.querySelector(\"#createAccountButton\") as HTMLInputElement;\r\n  createAccountButton.hidden = false;\r\n  signInStatus.hidden = false;\r\n  signInStatus.innerHTML = \"Sign in or create a new user sign in to access your saved work\";\r\n}\r\n\r\n//Function to quickly check and make sure the user has entered fields\r\nfunction checkNewItemInputs(classGroupName: string, title: string, itemStatus: string, dueDate: string, timeDueBy: string) {\r\n  //Check to see if there the user forgot to add either a title for class/group, title for the work item, or a due date\r\n  if (classGroupName == \"\" || title == \"\" || dueDate == \"\") {\r\n    status.innerText = \"ERROR: You have forgotten to add:\";\r\n\r\n    //If the user forgot the class/group title, add it onto the status message\r\n    if (classGroupName == \"\") {\r\n      status.innerText += \"\\nA title for the class/group\";\r\n    }\r\n    //If the user forgot the work item title, add it onto the status message\r\n    if (title == \"\") {\r\n      status.innerText += \"\\nA title for the work item\";\r\n    }\r\n    //If the user forgot the due date, add it onto the status message\r\n    if (dueDate == \"\") {\r\n      status.innerText += \"\\nA due date for the work item\";\r\n    }\r\n\r\n    status.innerText += \"\\n\\nPlease enter the above information before creating a new item\";\r\n  }\r\n  //Otherwise, continue to add the item\r\n  else {\r\n    addNewItem(classGroupName, title, itemStatus, dueDate, timeDueBy);\r\n  }\r\n}\r\n\r\n//Load in necessary functions for the program to use on start\r\nfunction loadTracker() {\r\n  //Ensure that the currentUsername and currentPassword are empty, in case they somehow keep the previous user's sign in info\r\n  currentUsername = \"\";\r\n  currentPassword = \"\";\r\n  \r\n  const addItem = document.querySelector(\"#addItem\") as HTMLInputElement;\r\n  addItem.addEventListener(\"click\", (e: Event) => checkNewItemInputs(\r\n    classGroupName.value,\r\n    title.value,\r\n    TodoStatus.todoTitle,\r\n    dueDate.value,\r\n    `${time.value}${timeOfDay.value}`\r\n  ));\r\n\r\n  const signInButton = document.querySelector(\"#signInButton\") as HTMLInputElement;\r\n  signInButton.addEventListener(\"click\", (e: Event) => signIn(\r\n    username.value,\r\n    password.value,\r\n    signInButton\r\n  ));\r\n\r\n  const createAccountButton = document.querySelector(\"#createAccountButton\") as HTMLInputElement;\r\n  createAccountButton.addEventListener(\"click\", (e: Event) => createAccount(\r\n    username.value,\r\n    password.value,\r\n    signInButton\r\n  ));\r\n\r\n  const deleteAccountButton = document.querySelector(\"#deleteUserButton\") as HTMLInputElement;\r\n  deleteAccountButton.addEventListener(\"click\", (e: Event) => deleteAccount());\r\n\r\n  classGroupName.hidden = true;\r\n  title.hidden = true;\r\n  dueDate.hidden = true;\r\n  time.hidden = true;\r\n  timeOfDay.hidden = true;\r\n  status.hidden = true;\r\n  addItem.hidden = true;\r\n  deleteAccountButton.hidden = true;\r\n}\r\n\r\nwindow.onload = () => { loadTracker(); };"],"names":["TodoStatus","loadJSONFromLocalStorage","username","json","obj","string","localStorage","getItem","JSON","parse","Error","Array","isArray","error","console","log","writeToLocalStorage","key","value","setItem","stringify","readFromLocalStorage","doesUserExist","document","querySelector","signInStatus","currentUsername","classGroupName","title","dueDate","time","timeOfDay","todoItems","workItemsSelects","removeItemButtons","addNewItem","itemStatus","timeDueBy","newListItem","tempToDoItem","newTodo","id","reduce","max","x","status","dueByTime","push","length","innerHTML","addTodoItem","formattedTitles","newClassGroupName","classGroupNameSeparated","split","i","toLowerCase","titleListId","titleSeparated","formatClassGroupTitles","select","createElement","className","name","todoTitle","todo","inProgressTitle","inProgress","doneTitle","done","removeButton","hidden","appendChild","addEventListener","e","toDoItem","htmlToDoItem","splice","indexOf","removeEventListener","hideAndRevealRemoveButton","parentElement","childElementCount","remove","this","removeTodoItem","target","lastChild","option","loadWorkTracker","loadSavedWorkItems","loadTracker","addItem","innerText","checkNewItemInputs","password","signIn","createAccount","deleteAccountButton","removeItem","deleteUser","window","onload"],"ignoreList":[],"sourceRoot":""}